<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Attendance System</title>
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" 
          href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css"/>
</head>
<body style="background-color:#F0F0F0;">

<div class="container-fluid mt-4">
    <div class="alert alert-info shadow p-3 mb-4 text-uppercase">
        Students Activity / Send Username & Password Email
    </div>

    <!-- Success Message -->
    <div th:if="${mailSuccess}" class="alert alert-success" id="success" th:text="${mailSuccess}"></div>

    <div class="card shadow mb-4">
        <div class="card-header bg-light font-weight-bold text-uppercase small">
            Send Username & Password in Mail
            <span class="float-right" th:text="${#dates.format(#dates.createNow(), 'dd-MM-yyyy HH:mm')}"></span>
        </div>
        <div class="card-body">
            <table id="studentTable" class="table table-striped table-hover table-bordered">
                <thead>
                <tr>
                    <th>Student Id</th>
                    <th>Student Name</th>
                    <th>Mobile No</th>
                    <th>Email Id</th>
                    <th>User Name</th>
                    <th>Password</th>
                    <th>Action</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="student : ${students}">
                    <td th:text="${student.studentId}"></td>
                    <td th:text="${student.studName}"></td>
                    <td th:text="${student.mobile}"></td>
                    <td th:text="${student.email}"></td>
                    <td th:text="${student.uname}"></td>
                    <td><span class="badge badge-info" th:text="${student.password}"></span></td>
                    <td>
                        <a th:href="@{'/admin/send-email/' + ${student.studentId}}"
                           class="btn btn-primary btn-sm">
                            <span class="glyphicon glyphicon-envelope"></span> Send Email
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('#studentTable').DataTable();
        $('#success').delay(5000).fadeOut('slow');
    });
</script>

</body>
</html>
